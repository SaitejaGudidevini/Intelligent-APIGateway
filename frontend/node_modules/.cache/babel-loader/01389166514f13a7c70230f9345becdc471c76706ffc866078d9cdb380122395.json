{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Container,Typography,Box,Paper,Button}from'@mui/material';import{getCurrentUser,checkHealth}from'../services/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[user,setUser]=useState(null);const[health,setHealth]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchData=async()=>{try{const userData=await getCurrentUser();setUser(userData);const healthData=await checkHealth();setHealth(healthData);}catch(err){navigate('/login');}};fetchData();},[navigate]);const handleLogout=()=>{localStorage.removeItem('token');navigate('/login');};return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",children:/*#__PURE__*/_jsxs(Box,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Dashboard\"}),user&&/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"User Information\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"Email: \",user.email]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Username: \",user.username]})]}),health&&/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"System Health\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"Status: \",health.status]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Timestamp: \",new Date(health.timestamp*1000).toLocaleString()]})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:handleLogout,children:\"Logout\"})]})});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Box","Paper","Button","getCurrentUser","checkHealth","useNavigate","jsx","_jsx","jsxs","_jsxs","Dashboard","user","setUser","health","setHealth","navigate","fetchData","userData","healthData","err","handleLogout","localStorage","removeItem","maxWidth","children","sx","mt","variant","gutterBottom","p","mb","email","username","status","Date","timestamp","toLocaleString","color","onClick"],"sources":["/Users/saitejagudidevini/Documents/Dev/Intelligent_API_GATEWAY/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Container, Typography, Box, Paper, Button } from '@mui/material';\nimport { getCurrentUser, checkHealth } from '../services/api';\nimport { useNavigate } from 'react-router-dom';\n\nconst Dashboard = () => {\n  const [user, setUser] = useState(null);\n  const [health, setHealth] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const userData = await getCurrentUser();\n        setUser(userData);\n        const healthData = await checkHealth();\n        setHealth(healthData);\n      } catch (err) {\n        navigate('/login');\n      }\n    };\n    fetchData();\n  }, [navigate]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box sx={{ mt: 4 }}>\n        <Typography variant=\"h4\" gutterBottom>\n          Dashboard\n        </Typography>\n        {user && (\n          <Paper sx={{ p: 3, mb: 3 }}>\n            <Typography variant=\"h6\">User Information</Typography>\n            <Typography>Email: {user.email}</Typography>\n            <Typography>Username: {user.username}</Typography>\n          </Paper>\n        )}\n        {health && (\n          <Paper sx={{ p: 3, mb: 3 }}>\n            <Typography variant=\"h6\">System Health</Typography>\n            <Typography>Status: {health.status}</Typography>\n            <Typography>Timestamp: {new Date(health.timestamp * 1000).toLocaleString()}</Typography>\n          </Paper>\n        )}\n        <Button variant=\"contained\" color=\"secondary\" onClick={handleLogout}>\n          Logout\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}